<!---
This file was automatically generated by Mastro CLI
Generated on: 2025-08-11T02:47:22.167Z
Document type: api
Title: API Documentation

To prevent this file from being overwritten, add custom content
between the CUSTOM_START and CUSTOM_END markers below.
--->

# Mastro API Documentation

## Overview

The Mastro API is designed to provide a robust and flexible interface for interacting with the Mastro application, built using TypeScript and Node.js. This API follows RESTful principles, ensuring that it is intuitive and easy to use. The architecture emphasizes modularity, allowing for easy maintenance and scalability.

### Design Principles

- **Modularity**: Each component of the API is designed to be independent, promoting reusability.
- **Simplicity**: The API aims to be straightforward, with clear and concise endpoints.
- **Asynchronous Operations**: Where applicable, the API supports asynchronous operations to enhance performance.
- **Error Handling**: Comprehensive error handling is implemented to provide meaningful feedback to users.

## Authentication and Authorization

Currently, the Mastro API does not require authentication or authorization for its endpoints. Future versions may introduce these features to enhance security.

## Detailed Endpoint Documentation

### 1. Scan Recursive

- **Endpoint**: `/api/scan`
- **Method**: `POST`
- **Description**: Initiates a recursive scan of the specified directory.

#### Request

```json
{
  "currentPath": "string",
  "basePath": "string"
}
```

#### Response

```json
{
  "status": "success",
  "data": {
    "scannedFiles": ["file1.js", "file2.js"]
  }
}
```

#### Example

```javascript
const response = await fetch('/api/scan', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({ currentPath: '/path/to/dir' })
});
const data = await response.json();
console.log(data);
```

### 2. Exit Handler

- **Endpoint**: `/api/exit`
- **Method**: `POST`
- **Description**: Handles the exit process of the application.

#### Request

```json
{}
```

#### Response

```json
{
  "status": "success",
  "message": "Application exited successfully."
}
```

#### Example

```javascript
const response = await fetch('/api/exit', {
  method: 'POST'
});
const data = await response.json();
console.log(data);
```

## Request/Response Schemas

### Request Schema

- **currentPath**: `string` - The path to scan.
- **basePath**: `string` - Optional base path for relative scanning.

### Response Schema

- **status**: `string` - Indicates the success or failure of the request.
- **data**: `object` - Contains the result of the operation.

## Error Handling and Status Codes

The API uses standard HTTP status codes to indicate the success or failure of requests:

- **200 OK**: The request was successful.
- **400 Bad Request**: The request was invalid.
- **500 Internal Server Error**: An unexpected error occurred.

### Error Response Example

```json
{
  "status": "error",
  "message": "Invalid currentPath provided."
}
```

## Rate Limiting and Usage Guidelines

Currently, there are no rate limits imposed on the Mastro API. However, users are encouraged to implement their own throttling mechanisms to avoid overwhelming the server.

## SDK/Client Library Information

While there is no official SDK available at this time, developers can interact with the API using standard HTTP libraries in their preferred programming languages.

### Example in Python

```python
import requests

response = requests.post('http://localhost:3000/api/scan', json={'currentPath': '/path/to/dir'})
print(response.json())
```

### Example in Java

```java
import java.net.HttpURLConnection;
import java.net.URL;
import java.io.OutputStream;

public class MastroClient {
    public static void main(String[] args) throws Exception {
        URL url = new URL("http://localhost:3000/api/scan");
        HttpURLConnection conn = (HttpURLConnection) url.openConnection();
        conn.setRequestMethod("POST");
        conn.setRequestProperty("Content-Type", "application/json");
        conn.setDoOutput(true);

        String jsonInputString = "{\"currentPath\": \"/path/to/dir\"}";

        try (OutputStream os = conn.getOutputStream()) {
            byte[] input = jsonInputString.getBytes("utf-8");
            os.write(input, 0, input.length);
        }

        System.out.println(conn.getResponseCode());
    }
}
```

## Testing and Development Guidelines

- **Local Development**: Clone the repository and run the application using Node.js.
- **Testing**: Use tools like Postman or curl to test the API endpoints.
- **Unit Tests**: Ensure that all functions are covered by unit tests to maintain code quality.

### Example Test Case

```javascript
describe('Scan Recursive', () => {
  it('should return scanned files', async () => {
    const response = await fetch('/api/scan', {
      method: 'POST',
      body: JSON.stringify({ currentPath: '/path/to/dir' })
    });
    const data = await response.json();
    expect(data.status).toBe('success');
  });
});
```

## Conclusion

This documentation provides a comprehensive overview of the Mastro API, including its architecture, endpoints, and usage guidelines. For further assistance, please refer to the community forums or contact the development team.

---

<!-- CUSTOM_START -->
<!-- Add your custom content here - it will be preserved during regeneration -->
<!-- CUSTOM_END -->

*Documentation generated by [Mastro CLI](https://github.com/your-org/mastro) on 8/10/2025*