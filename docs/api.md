<!---
This file was automatically generated by Mastro CLI
Generated on: 2025-08-12T04:18:10.572Z
Document type: api
Title: API Documentation

To prevent this file from being overwritten, add custom content
between the CUSTOM_START and CUSTOM_END markers below.
--->

# Mastro API Documentation

## Overview of the API Architecture and Design Principles

The Mastro API is designed to facilitate seamless interaction with the Mastro CLI system, providing a robust framework for workflow orchestration, code review, commit management, and documentation generation. Built with TypeScript and Node.js, the API adheres to the following design principles:

- **Modularity**: Each component (flow, review, split, commit, PR) is encapsulated, allowing for independent development and testing.
- **Asynchronous Operations**: Leveraging Node.js's non-blocking architecture, many functions are designed to operate asynchronously, improving performance and responsiveness.
- **Extensibility**: The API is designed to be easily extendable, allowing developers to add new features or integrate with other systems.
- **Error Handling**: Comprehensive error handling mechanisms are in place to ensure robustness and reliability.

## Authentication and Authorization

Currently, the Mastro API does not require authentication or authorization for its operations. Future versions may introduce user authentication to enhance security.

## Detailed Endpoint Documentation

### 1. Mastro Flow

#### Endpoint: `/api/flow`

- **Method**: `POST`
- **Description**: Initiates a new workflow orchestration.

**Request Example**:
```json
{
  "workflow": "exampleWorkflow",
  "parameters": {
    "option1": "value1",
    "option2": "value2"
  }
}
```

**Response Example**:
```json
{
  "status": "success",
  "message": "Workflow initiated successfully.",
  "workflowId": "12345"
}
```

### 2. Mastro Review

#### Endpoint: `/api/review`

- **Method**: `POST`
- **Description**: Submits code for AI-powered review.

**Request Example**:
```json
{
  "code": "const x = 10;",
  "language": "javascript"
}
```

**Response Example**:
```json
{
  "status": "success",
  "compliments": [
    "Good use of const!",
    "Variable naming is clear."
  ],
  "suggestions": [
    "Consider using let for mutable variables."
  ]
}
```

### 3. Mastro Commit

#### Endpoint: `/api/commit`

- **Method**: `POST`
- **Description**: Generates a commit message based on the provided changes.

**Request Example**:
```json
{
  "changes": [
    "Added new feature X",
    "Fixed bug Y"
  ]
}
```

**Response Example**:
```json
{
  "status": "success",
  "commitMessage": "feat: Add feature X and fix bug Y"
}
```

### 4. Mastro PR

#### Endpoint: `/api/pr`

- **Method**: `POST`
- **Description**: Creates a new pull request.

**Request Example**:
```json
{
  "title": "Add feature X",
  "description": "This PR adds feature X to the project.",
  "branch": "feature-x"
}
```

**Response Example**:
```json
{
  "status": "success",
  "prUrl": "https://github.com/your-repo/pull/123"
}
```

## Request/Response Schemas

### Request Schema Example

```json
{
  "type": "object",
  "properties": {
    "workflow": { "type": "string" },
    "parameters": {
      "type": "object",
      "additionalProperties": { "type": "string" }
    }
  },
  "required": ["workflow", "parameters"]
}
```

### Response Schema Example

```json
{
  "type": "object",
  "properties": {
    "status": { "type": "string" },
    "message": { "type": "string" },
    "workflowId": { "type": "string" }
  },
  "required": ["status", "message"]
}
```

## Error Handling and Status Codes

The API uses standard HTTP status codes to indicate the success or failure of requests:

- **200 OK**: The request was successful.
- **400 Bad Request**: The request was invalid or malformed.
- **404 Not Found**: The requested resource could not be found.
- **500 Internal Server Error**: An unexpected error occurred on the server.

### Error Response Example

```json
{
  "status": "error",
  "message": "Invalid parameters provided."
}
```

## Rate Limiting and Usage Guidelines

Currently, there are no rate limits imposed on the Mastro API. However, users are encouraged to implement their own throttling mechanisms to avoid overwhelming the server, especially during bulk operations.

## SDK/Client Library Information

The Mastro API can be accessed directly via HTTP requests. For convenience, a client library is available in TypeScript:

```typescript
import { MastroClient } from 'mastro-sdk';

const client = new MastroClient();

client.flow.start({ workflow: 'example', parameters: { option1: 'value1' } })
  .then(response => console.log(response))
  .catch(error => console.error(error));
```

## Code Examples in Multiple Languages

### JavaScript Example

```javascript
fetch('/api/review', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    code: 'const x = 10;',
    language: 'javascript'
  })
})
.then(response => response.json())
.then(data => console.log(data));
```

### Python Example

```python
import requests

response = requests.post('/api/review', json={
    'code': 'const x = 10;',
    'language': 'javascript'
})

print(response.json())
```

## Testing and Development Guidelines

To contribute to the Mastro API:

1. **Clone the Repository**: 
   ```bash
   git clone https://github.com/your-repo/mastro.git
   ```

2. **Install Dependencies**: 
   ```bash
   npm install
   ```

3. **Run Tests**: 
   ```bash
   npm test
   ```

4. **Follow Code Standards**: Ensure that your code adheres to the established coding standards and best practices.

5. **Documentation**: Update the documentation for any new features or changes made.

By following these guidelines, developers can effectively integrate with the Mastro API and contribute to its ongoing development.

---

<!-- CUSTOM_START -->
<!-- Add your custom content here - it will be preserved during regeneration -->
<!-- CUSTOM_END -->

*Documentation generated by [Mastro CLI](https://github.com/your-org/mastro) on 8/12/2025*