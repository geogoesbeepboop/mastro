<!---
This file was automatically generated by Mastro CLI
Generated on: 2025-08-11T02:46:24.687Z
Document type: api
Title: API Documentation

To prevent this file from being overwritten, add custom content
between the CUSTOM_START and CUSTOM_END markers below.
--->

# Mastro API Documentation

## Overview of the API Architecture and Design Principles

The Mastro API is designed to facilitate seamless integration with various components of the Mastro project. Built using TypeScript and Node.js, the API follows RESTful principles, ensuring that it is stateless, cacheable, and provides a uniform interface. The architecture emphasizes modularity, allowing developers to extend functionality easily while maintaining a clear separation of concerns.

### Key Design Principles:
- **Simplicity**: The API is designed to be intuitive and easy to use.
- **Consistency**: Endpoints follow a consistent naming convention and structure.
- **Scalability**: The architecture supports horizontal scaling to handle increased loads.
- **Error Handling**: Comprehensive error responses to guide developers in troubleshooting.

## Authentication and Authorization

Currently, the Mastro API does not require authentication or authorization for accessing its endpoints. Future versions may implement OAuth 2.0 or API keys to secure sensitive operations.

## Detailed Endpoint Documentation

### 1. `scanRecursive`

- **File**: `lib/analyzers/doc-analyzer.js`
- **Method**: `GET`
- **Signature**: `const scanRecursive = (currentPath, basePath = '') =>`
- **Description**: Scans directories recursively starting from the specified path.

#### Request
```http
GET /api/scan?currentPath=/path/to/scan&basePath=/base/path
```

#### Response
```json
{
  "status": "success",
  "data": {
    "files": ["file1.js", "file2.js"],
    "directories": ["dir1", "dir2"]
  }
}
```

### 2. `operation`

- **File**: `lib/base/command.d.ts`
- **Method**: `POST`
- **Signature**: `operation: () =>`
- **Description**: Executes a predefined operation.

#### Request
```http
POST /api/operation
```

#### Response
```json
{
  "status": "success",
  "message": "Operation executed successfully."
}
```

### 3. `exitHandler`

- **File**: `lib/commands/analytics.js`
- **Method**: `POST`
- **Signature**: `const exitHandler = async () =>`
- **Description**: Handles cleanup tasks upon exiting the application.

#### Request
```http
POST /api/exit
```

#### Response
```json
{
  "status": "success",
  "message": "Cleanup completed."
}
```

### 4. `readDirRecursive`

- **File**: `lib/commands/flow.js`
- **Method**: `GET`
- **Signature**: `const readDirRecursive = async (dir) =>`
- **Description**: Reads a directory recursively.

#### Request
```http
GET /api/readDir?dir=/path/to/directory
```

#### Response
```json
{
  "status": "success",
  "files": ["file1.js", "file2.js"]
}
```

## Request/Response Schemas

### Request Schema Example
```json
{
  "currentPath": "/path/to/scan",
  "basePath": "/base/path"
}
```

### Response Schema Example
```json
{
  "status": "success",
  "data": {
    "files": ["file1.js", "file2.js"],
    "directories": ["dir1", "dir2"]
  }
}
```

## Error Handling and Status Codes

The API uses standard HTTP status codes to indicate the success or failure of requests:

- **200 OK**: The request was successful.
- **400 Bad Request**: The request was invalid.
- **404 Not Found**: The requested resource could not be found.
- **500 Internal Server Error**: An unexpected error occurred.

### Error Response Example
```json
{
  "status": "error",
  "message": "Invalid path provided."
}
```

## Rate Limiting and Usage Guidelines

Currently, there are no rate limits imposed on the API. However, it is recommended to implement exponential backoff for retries in case of high load or error responses.

## SDK/Client Library Information

To facilitate integration, an SDK is available for JavaScript/TypeScript. The SDK provides wrapper functions for each API endpoint, simplifying the process of making requests.

### Installation
```bash
npm install mastro-sdk
```

### Usage Example
```javascript
const MastroSDK = require('mastro-sdk');

const mastro = new MastroSDK();

async function scan() {
  try {
    const result = await mastro.scanRecursive('/path/to/scan');
    console.log(result);
  } catch (error) {
    console.error(error);
  }
}

scan();
```

## Code Examples in Multiple Languages

### JavaScript Example
```javascript
const axios = require('axios');

async function fetchData() {
  const response = await axios.get('/api/scan', {
    params: {
      currentPath: '/path/to/scan',
      basePath: '/base/path'
    }
  });
  console.log(response.data);
}

fetchData();
```

### Python Example
```python
import requests

def fetch_data():
    response = requests.get('http://localhost:3000/api/scan', params={
        'currentPath': '/path/to/scan',
        'basePath': '/base/path'
    })
    print(response.json())

fetch_data()
```

## Testing and Development Guidelines

### Local Development
1. Clone the repository.
2. Install dependencies using `npm install`.
3. Start the server with `npm start`.

### Running Tests
Run the test suite using:
```bash
npm test
```

### Best Practices
- Write unit tests for new features.
- Document any changes made to the API.
- Follow the coding standards outlined in the project repository.

---

This documentation aims to provide a comprehensive guide for developers looking to integrate with the Mastro API. For further assistance, please refer to the project's GitHub repository or contact the development team.

---

<!-- CUSTOM_START -->
<!-- Add your custom content here - it will be preserved during regeneration -->
<!-- CUSTOM_END -->

*Documentation generated by [Mastro CLI](https://github.com/your-org/mastro) on 8/10/2025*