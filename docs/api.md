<!---
This file was automatically generated by Mastro CLI
Generated on: 2025-08-12T04:24:51.315Z
Document type: api
Title: API Documentation

To prevent this file from being overwritten, add custom content
between the CUSTOM_START and CUSTOM_END markers below.
--->

# Mastro API Documentation

## Overview of the API Architecture and Design Principles

The Mastro API is designed to facilitate seamless interaction with the Mastro CLI system, enabling developers to orchestrate workflows, conduct AI-powered code reviews, analyze commit boundaries, and manage pull requests efficiently. The API adheres to RESTful principles, ensuring stateless communication and resource-oriented architecture.

### Key Design Principles:
- **Modularity**: Each component (flow, review, split, commit, PR) is encapsulated, allowing for independent development and maintenance.
- **Asynchronous Operations**: Many operations are designed to be asynchronous, improving responsiveness and scalability.
- **Error Handling**: Comprehensive error handling mechanisms are in place to provide meaningful feedback to developers.
- **Extensibility**: The API is built to accommodate future enhancements and integrations.

## Authentication and Authorization

Currently, the Mastro API does not require authentication for access. However, future versions may implement token-based authentication to secure sensitive operations. Stay tuned for updates.

## Detailed Endpoint Documentation

### 1. Workflow Orchestration (`mastro flow`)

#### Endpoint: `/api/flow`
- **Method**: `POST`
- **Description**: Initiates a complete workflow orchestration process.

**Request Example**:
```json
{
  "workflow": "exampleWorkflow",
  "parameters": {
    "split": true,
    "review": true,
    "docs": true
  }
}
```

**Response Example**:
```json
{
  "status": "success",
  "message": "Workflow initiated successfully.",
  "workflowId": "12345"
}
```

### 2. AI-Powered Code Review (`mastro review`)

#### Endpoint: `/api/review`
- **Method**: `POST`
- **Description**: Submits code for AI-powered review.

**Request Example**:
```json
{
  "code": "const example = () => { return 'Hello, World!'; };"
}
```

**Response Example**:
```json
{
  "status": "success",
  "feedback": [
    "Consider using const instead of let.",
    "Function could be simplified."
  ]
}
```

### 3. Intelligent Commit Boundary Analysis (`mastro split`)

#### Endpoint: `/api/split`
- **Method**: `POST`
- **Description**: Analyzes commit boundaries for optimal splitting.

**Request Example**:
```json
{
  "commitMessage": "Fix issue with user authentication"
}
```

**Response Example**:
```json
{
  "status": "success",
  "commitBoundaries": [
    "Fix user login issue",
    "Improve error handling"
  ]
}
```

### 4. Enhanced Commit Message Generation (`mastro commit`)

#### Endpoint: `/api/commit`
- **Method**: `POST`
- **Description**: Generates a commit message based on provided context.

**Request Example**:
```json
{
  "context": "Refactor user authentication module"
}
```

**Response Example**:
```json
{
  "status": "success",
  "commitMessage": "Refactor: Improve user authentication logic for better performance."
}
```

### 5. Pull Request Management (`mastro pr`)

#### Endpoint: `/api/pr`
- **Method**: `POST`
- **Description**: Creates a pull request.

**Request Example**:
```json
{
  "title": "Fix user authentication issue",
  "description": "This PR fixes the issue with user authentication.",
  "branch": "feature/auth-fix"
}
```

**Response Example**:
```json
{
  "status": "success",
  "prUrl": "https://github.com/your-repo/pull/123"
}
```

## Request/Response Schemas

### Request Schema Example
```json
{
  "type": "object",
  "properties": {
    "workflow": { "type": "string" },
    "parameters": {
      "type": "object",
      "properties": {
        "split": { "type": "boolean" },
        "review": { "type": "boolean" },
        "docs": { "type": "boolean" }
      }
    }
  },
  "required": ["workflow", "parameters"]
}
```

### Response Schema Example
```json
{
  "type": "object",
  "properties": {
    "status": { "type": "string" },
    "message": { "type": "string" },
    "workflowId": { "type": "string" }
  },
  "required": ["status", "message"]
}
```

## Error Handling and Status Codes

| Status Code | Description                          |
|-------------|--------------------------------------|
| 200         | Success                              |
| 400         | Bad Request                          |
| 401         | Unauthorized (future implementation) |
| 404         | Not Found                            |
| 500         | Internal Server Error                |

### Error Response Example
```json
{
  "status": "error",
  "message": "Invalid request parameters."
}
```

## Rate Limiting and Usage Guidelines

Currently, there are no rate limits in place. However, it is recommended to avoid excessive requests in a short period to ensure optimal performance.

## SDK/Client Library Information

Mastro provides a TypeScript SDK for easy integration. Install via npm:

```bash
npm install mastro-sdk
```

### Basic Usage Example
```typescript
import { Mastro } from 'mastro-sdk';

const mastro = new Mastro();

async function runWorkflow() {
  const response = await mastro.flow.start({
    workflow: 'exampleWorkflow',
    parameters: { split: true, review: true, docs: true }
  });
  console.log(response);
}

runWorkflow();
```

## Testing and Development Guidelines

1. **Environment Setup**: Ensure Node.js and TypeScript are installed.
2. **Running Tests**: Use the following command to run tests:
   ```bash
   npm test
   ```
3. **Contributing**: Follow the contribution guidelines in the repository for submitting changes.

For further assistance, please refer to the [Mastro GitHub Repository](https://github.com/your-repo/mastro) or contact the development team.

---

<!-- CUSTOM_START -->
<!-- Add your custom content here - it will be preserved during regeneration -->
<!-- CUSTOM_END -->

*Documentation generated by [Mastro CLI](https://github.com/your-org/mastro) on 8/12/2025*